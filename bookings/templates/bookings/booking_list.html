{% extends 'base.html' %}
{% load static %}
{% block title %}My Bookings{% endblock %}
{% block page_title %}Bookings{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'bookings/css/bookings.css' %}">

<div class="booking-container">
  <h1 class="booking-header">My Bookings</h1>
  {% if bookings %}
    {% for booking in bookings %}
      <div class="booking-card">
        <h3>
          Booking #{{ booking.id }} â€” for {{ booking.guests }} guests
          {% if booking.is_deleted %}
            <span class="badge bg-secondary ms-2">Already deleted</span>
          {% endif %}
        </h3>
        <p class="{% if booking.is_deleted %}text-muted{% endif %}"><strong>Restaurant:</strong> {{ booking.restaurant.name }}</p>
        <p class="{% if booking.is_deleted %}text-muted{% endif %}"><strong>Date:</strong> {{ booking.date|date:"Y-m-d" }}</p>
        <p class="{% if booking.is_deleted %}text-muted{% endif %}"><strong>Time:</strong> {{ booking.date|date:"H:i" }}</p>
        <p class="{% if booking.is_deleted %}text-muted{% endif %}"><strong>Special Request:</strong> {{ booking.special_requests }}</p>
        {% if not booking.is_deleted %}
          <a href="{% url 'bookings:booking_detail' booking.pk %}" class="btn btn-primary mt-2">View</a>
        {% else %}
          <button class="btn btn-secondary mt-2" disabled>Already deleted</button>
        {% endif %}
      </div>
    {% endfor %}
  {% else %}
  <p>You have no bookings yet.</p>
  {% endif %}

  <a href="{% url 'bookings:booking_create' %}" class="btn btn-primary mt-3">Make a Booking</a>
</div>
{% endblock %}
